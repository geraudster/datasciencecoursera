# Analysis of types of severe weather events that have most impacted the population and the economics in the United States from 1950 to 2011

## Synopsis

In this report we aim to describe the types of severe weather events that had the most impact on the population
and on the economics.
To perform this analysis, we used data from the U.S. National Oceanic and Atmospheric Administration's (NOAA) storm database.
This database contains data from 1950 to 2011 tracks major storms and weather events (like avalanche, dense fog, tsunami...).

TO BE CONTINUED...

Before we start, we load the required libraries:

``` {r}
library(R.utils) # used for bunzip2
library(ggplot2)
library(plyr)
```

## Data Processing

The data is located at https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2.
The code book is here: https://d396qusza40orc.cloudfront.net/repdata%2Fpeer2_doc%2Fpd01016005curr.pdf

Let's retrieve and uncompress the data from the Coursera's site:

```{r,cache=TRUE}
url <- "https://d396qusza40orc.cloudfront.net/repdata%2Fdata%2FStormData.csv.bz2"
datadir <- "data"
zipdatafile <- paste(datadir, "StormData.csv.bz2", sep="/")
if(!file.exists(zipdatafile)) {
    if(!file.exists(datadir)) { dir.create(datadir) }
    download.file(url, destfile=zipdatafile, method="curl")
}

datafile <- paste(datadir, "StormData.csv", sep="/")
bunzip2(zipdatafile, destname=datafile, remove=FALSE, overwrite=TRUE)
```

Then we load the data in R (might take several minutes...):
```{r,cache=TRUE}
data <- read.csv(datafile)
```

The data contains `r nrow(data)` observations of `r ncol(data)` variables. On our environment it takes `r format(object.size(data), units= "MB")` of memory.

Here is a small insight of what the data look like:
```{r}
head(data)
str(data)
summary(data$EVTYPE)
```

Next, we'll plot the 10 most recensed events:
```{r,fig.width=9}
sumByEvt <- ddply(data, .(EVTYPE), summarize, count = length(EVTYPE))
ggplot(sumByEvt[order(sumByEvt$count, decreasing=TRUE),][1:10,], aes(x=EVTYPE, y=count, fill=EVTYPE)) +
  geom_histogram(stat="identity") +
  coord_flip()
```

## Results

## Supplementary info

```{r}
sessionInfo()
```

